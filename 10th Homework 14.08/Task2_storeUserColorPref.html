<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task2_storeUserColorPref with cookies</title>
</head>
<body>
    <div class="bgChoice">
        <h2>Choose background color:</h2>
        <select class="dropdown">
            <option ></option>
            <option value="#FF0000">red</option>
            <option value="#00FF00">green</option>
            <option value="#0000FF">blue</option>
          </select>
        <button class="btn">Set BG</button>
      </div>

      <script>
        let dropdown = document.querySelector('.dropdown');
        let btn = document.querySelector('.btn');
        dropdown.addEventListener('change', setColor);

       
        function setColor() {
            let color = this.value;
            // console.log(color)
            
            btn.addEventListener('click', function() {
                    document.body.style.backgroundColor = color;
                    document.cookie = `color=${color};`;                  
            });    
          }
               
          window.onload = function getColorFromCookie() {
                function getCookie (name) {
                      let value = `; ${document.cookie}`;
                      let parts = value.split(`; ${name}=`);
                      if (parts.length === 2) {
                        return parts.pop().split(';').shift();
                      } 
                    }
                   let x = getCookie('color');
                   document.body.style.backgroundColor = x;
           }
        



            // document.cookie = 'red=#FF0000;';
      //   document.cookie = 'green=#00FF00;';
      //   document.cookie = 'blue=#0000FF;';

        // function getCookie (name) {
	      //     let value = `; ${document.cookie}`;
	      //     let parts = value.split(`; ${name}=`);
	      //     if (parts.length === 2) {
        //       return parts.pop().split(';').shift();
        //     }
            
        // }

      //  let red = getCookie('red');
      //  let green = getCookie('green');
      //  let blue = getCookie('blue');


        
        // console.log(cookie);
      </script>
</body>
</html>
<!-- Task

You have to store the color selected by the user, so that next time when she enters the site, 
her chosen colour would be set as page background colour.
    Implement the task with cookies -->